# Sub-Store èŠ‚ç‚¹é‡å‘½åè„šæœ¬ - å¿«é€Ÿä½¿ç”¨æŒ‡å—

## ğŸ“ è„šæœ¬åŠŸèƒ½

è‡ªåŠ¨è¯†åˆ«å¹¶æå–èŠ‚ç‚¹åç§°ä¸­çš„å›½å®¶ä¿¡æ¯ï¼Œå°†èŠ‚ç‚¹é‡å‘½åä¸ºåªä¿ç•™å›½å®¶åã€‚

**ç¤ºä¾‹ï¼š**
```
é¦™æ¸¯ğŸ‡­ğŸ‡°-BG-HY | ä¸­å—éƒ¨ç§»åŠ¨ä¸“çº¿  â†’  é¦™æ¸¯
é¦™æ¸¯ğŸ‡­ğŸ‡°-BG-HY                â†’  é¦™æ¸¯02
æ–°åŠ å¡ Premium Node          â†’  æ–°åŠ å¡
```

## ğŸš€ åœ¨ Sub-Store ä¸­ä½¿ç”¨

### æ–¹æ³•ä¸€ï¼šé€šè¿‡å‰ç«¯ç•Œé¢æ·»åŠ 

1. **æ‰“å¼€ Sub-Store å‰ç«¯ç•Œé¢**
   - è®¿é—®ä½ çš„ Sub-Store ç®¡ç†é¡µé¢

2. **é€‰æ‹©è¦å¤„ç†çš„è®¢é˜…**
   - ç‚¹å‡»è®¢é˜…åˆ—è¡¨ä¸­çš„è®¢é˜…åç§°

3. **æ·»åŠ è„šæœ¬æ“ä½œ**
   - ç‚¹å‡»"æ·»åŠ ä¸€ä¸ªæ“ä½œ"æŒ‰é’®
   - é€‰æ‹©"è„šæœ¬æ“ä½œ"

4. **ç²˜è´´è„šæœ¬ä»£ç **
   - å¤åˆ¶ `rename-by-country.js` çš„å…¨éƒ¨å†…å®¹
   - ç²˜è´´åˆ°è„šæœ¬è¾“å…¥æ¡†ä¸­

5. **ä¿å­˜å¹¶é¢„è§ˆ**
   - ä¿å­˜è®¾ç½®
   - ç‚¹å‡»é¢„è§ˆæŸ¥çœ‹æ•ˆæœ

### æ–¹æ³•äºŒï¼šä½¿ç”¨å¿«æ·è„šæœ¬è¯­æ³•ï¼ˆç®€åŒ–ç‰ˆï¼‰

å¦‚æœä½ åªæƒ³å¯¹å•ä¸ªèŠ‚ç‚¹ç®€å•å¤„ç†ï¼Œå¯ä»¥ä½¿ç”¨å¿«æ·è¯­æ³•ï¼š

```javascript
// ç¤ºä¾‹ï¼šç»™èŠ‚ç‚¹åæ·»åŠ å‰ç¼€
$server.name = 'å‰ç¼€-' + $server.name

// ç¤ºä¾‹ï¼šå¼€å¯æŸäº›åŠŸèƒ½
$server.ecn = true
$server['test-url'] = 'http://1.0.0.1/generate_204'
```

**æ³¨æ„ï¼š** å¤æ‚çš„å›½å®¶è¯†åˆ«å’Œåºå·é€’å¢åŠŸèƒ½å¿…é¡»ä½¿ç”¨å®Œæ•´çš„ `function operator()` æ ¼å¼ã€‚

## ğŸ“‹ å®Œæ•´è„šæœ¬ä»£ç ä½ç½®

- **ä¸»è„šæœ¬ï¼š** `scripts/rename-by-country.js`
- **æµ‹è¯•è„šæœ¬ï¼š** `scripts/rename-by-country-test.js`
- **è¯¦ç»†æ–‡æ¡£ï¼š** `scripts/rename-by-country-README.md`

## ğŸ” ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šå¤„ç†é¦™æ¸¯èŠ‚ç‚¹

**åŸå§‹èŠ‚ç‚¹åï¼š**
```
é¦™æ¸¯ğŸ‡­ğŸ‡°-IPLC-01 | ä¸­ç»§çº¿è·¯
HK-Premium-BGP
é¦™æ¸¯ Lite | HKT
Hong Kong CN2 GIA
```

**å¤„ç†åï¼š**
```
é¦™æ¸¯
é¦™æ¸¯02
é¦™æ¸¯03
é¦™æ¸¯04
```

### ç¤ºä¾‹ 2ï¼šå¤„ç†å¤šå›½èŠ‚ç‚¹

**åŸå§‹èŠ‚ç‚¹åï¼š**
```
ğŸ‡¸ğŸ‡¬ Singapore Premium
æ—¥æœ¬ Tokyo NTT
US West Coast
å°æ¹¾ğŸ‡¹ğŸ‡¼ CHT
```

**å¤„ç†åï¼š**
```
æ–°åŠ å¡
æ—¥æœ¬
ç¾å›½
å°æ¹¾
```

## âš™ï¸ æ”¯æŒçš„è¯†åˆ«æ–¹å¼

è„šæœ¬å¯ä»¥è¯†åˆ«ä»¥ä¸‹ä¸‰ç§æ ¼å¼çš„å›½å®¶æ ‡è¯†ï¼š

### 1. Emoji æ——å¸œ
```
ğŸ‡­ğŸ‡° ğŸ‡¸ğŸ‡¬ ğŸ‡¯ğŸ‡µ ğŸ‡ºğŸ‡¸ ğŸ‡¹ğŸ‡¼ ç­‰
```

### 2. ä¸­æ–‡å›½å®¶å
```
é¦™æ¸¯ å°æ¹¾ æ–°åŠ å¡ æ—¥æœ¬ ç¾å›½ ç­‰
```

### 3. è‹±æ–‡ç¼©å†™/å…¨ç§°
```
HK SG JP US TW
Hong Kong Singapore Japan USA Taiwan
```

## ğŸ“Š æ”¯æŒçš„å›½å®¶/åœ°åŒºï¼ˆéƒ¨åˆ†ï¼‰

| åœ°åŒº | æ ‡è¯†ç¤ºä¾‹ |
|------|---------|
| ğŸ‡­ğŸ‡° é¦™æ¸¯ | HK, Hong Kong, é¦™æ¸¯, ğŸ‡­ğŸ‡° |
| ğŸ‡¹ğŸ‡¼ å°æ¹¾ | TW, Taiwan, å°æ¹¾, ğŸ‡¹ğŸ‡¼ |
| ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ | SG, Singapore, æ–°åŠ å¡, ğŸ‡¸ğŸ‡¬ |
| ğŸ‡¯ğŸ‡µ æ—¥æœ¬ | JP, Japan, æ—¥æœ¬, ğŸ‡¯ğŸ‡µ |
| ğŸ‡ºğŸ‡¸ ç¾å›½ | US, USA, United States, ç¾å›½, ğŸ‡ºğŸ‡¸ |
| ğŸ‡¬ğŸ‡§ è‹±å›½ | UK, United Kingdom, è‹±å›½, ğŸ‡¬ğŸ‡§ |
| ğŸ‡°ğŸ‡· éŸ©å›½ | KR, Korea, éŸ©å›½, ğŸ‡°ğŸ‡· |

**æ›´å¤šå›½å®¶è¯·æŸ¥çœ‹ `rename-by-country-README.md`**

## ğŸ§ª æœ¬åœ°æµ‹è¯•

åœ¨åº”ç”¨åˆ°æ­£å¼è®¢é˜…ä¹‹å‰ï¼Œå¯ä»¥å…ˆåœ¨æœ¬åœ°æµ‹è¯•ï¼š

```bash
# è¿›å…¥è„šæœ¬ç›®å½•
cd /root/data/test/Sub-Store/scripts

# è¿è¡Œæµ‹è¯•
node rename-by-country-test.js
```

## ğŸ› ï¸ è‡ªå®šä¹‰ä¿®æ”¹

### æ·»åŠ æ–°å›½å®¶

ç¼–è¾‘ `rename-by-country.js`ï¼Œåœ¨ç›¸åº”çš„æ˜ å°„è¡¨ä¸­æ·»åŠ ï¼š

```javascript
// åœ¨ countryMap ä¸­æ·»åŠ 
'æ¾³é—¨': 'æ¾³é—¨',
'MO': 'æ¾³é—¨',
'Macau': 'æ¾³é—¨',

// åœ¨ emojiMap ä¸­æ·»åŠ 
'ğŸ‡²ğŸ‡´': 'æ¾³é—¨',
```

### ä¿®æ”¹å›½å®¶åç§°æ˜¾ç¤º

```javascript
// å°†æ˜¾ç¤ºåç§°ä» "é¦™æ¸¯" æ”¹ä¸º "HK"
'é¦™æ¸¯': 'HK',
'HK': 'HK',
'Hong Kong': 'HK',
```

### ä¿®æ”¹åºå·æ ¼å¼

æ‰¾åˆ°è¿™è¡Œä»£ç ï¼š
```javascript
const suffix = String(countryCounter[country]).padStart(2, '0');
```

ä¿®æ”¹ä¸ºï¼š
```javascript
// ä¸è¡¥é›¶ï¼šé¦™æ¸¯2, é¦™æ¸¯3
const suffix = String(countryCounter[country]);

// æˆ–è¡¥ä¸‰ä½é›¶ï¼šé¦™æ¸¯002, é¦™æ¸¯003
const suffix = String(countryCounter[country]).padStart(3, '0');
```

## â“ å¸¸è§é—®é¢˜

### Q: æŸäº›èŠ‚ç‚¹æ²¡æœ‰è¢«è¯†åˆ«æ€ä¹ˆåŠï¼Ÿ

**A:** æ£€æŸ¥èŠ‚ç‚¹åç§°ä¸­çš„å›½å®¶æ ‡è¯†ï¼Œå¦‚æœä¸åœ¨æ”¯æŒåˆ—è¡¨ä¸­ï¼Œå¯ä»¥æ‰‹åŠ¨æ·»åŠ åˆ° `countryMap` æˆ– `emojiMap`ã€‚

### Q: åºå·ä¸ºä»€ä¹ˆä¸æ˜¯ä» 01 å¼€å§‹ï¼Ÿ

**A:** ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸åŠ åºå·ï¼Œä»ç¬¬äºŒä¸ªå¼€å§‹æ‰åŠ ï¼ˆ02ã€03...ï¼‰ï¼Œè¿™æ ·æ›´ç®€æ´ã€‚å¦‚æœæƒ³è®©ç¬¬ä¸€ä¸ªä¹Ÿæ˜¾ç¤ºä¸º 01ï¼Œä¿®æ”¹ä»£ç ï¼š

```javascript
if (!countryCounter[country]) {
    countryCounter[country] = 1;
    proxy.name = `${country}01`;  // æ”¹è¿™é‡Œ
} else {
    countryCounter[country]++;
    const suffix = String(countryCounter[country]).padStart(2, '0');
    proxy.name = `${country}${suffix}`;
}
```

### Q: å¯ä»¥ä¿ç•™éƒ¨åˆ†åŸå§‹ä¿¡æ¯å—ï¼Ÿ

**A:** å¯ä»¥ï¼Œä¿®æ”¹é‡å‘½åé€»è¾‘ã€‚ä¾‹å¦‚ä¿ç•™èŠ‚ç‚¹ç±»å‹ï¼š

```javascript
// ä»åŸåæå–ç±»å‹ä¿¡æ¯
const isPremium = originalName.includes('Premium') || originalName.includes('ä¸“çº¿');
const suffix = isPremium ? '-Premium' : '';

proxy.name = `${country}${numberSuffix}${suffix}`;
// ç»“æœï¼šé¦™æ¸¯-Premium, é¦™æ¸¯02, æ–°åŠ å¡-Premium
```

## ğŸ“š ç›¸å…³èµ„æº

- [Sub-Store GitHub](https://github.com/sub-store-org/Sub-Store)
- [Sub-Store æ–‡æ¡£](https://www.notion.so/Sub-Store-6259586994d34c11a4ced5c406264b46)
- [è„šæœ¬æ“ä½œè¯´æ˜](https://t.me/zhetengsha/970)

## ğŸ“„ è®¸å¯è¯

æœ¬è„šæœ¬éµå¾ª Sub-Store é¡¹ç›®çš„ GPL V3 è®¸å¯è¯ã€‚

